\documentclass{article}
\title{Title of the project}
\date{release date: \today\\version 0: skeleton}
\author{Matteo Secco, Mohammad Rahbari}
\usepackage{enumitem}
\usepackage{siunitx}
\usepackage{float}
\newcommand{\enum}[1]{\texttt{#1.\arabic*}}
\begin{document}
\pagenumbering{gobble}
\maketitle
\newpage
\tableofcontents
\pagebreak
\pagenumbering{arabic}

\section{Introduction}

	\subsection{Purpose} \textit{here we	 include	 the	 goals of the project}
	
		\paragraph{}The required system, called SafeStreets, is a distributed system to allow the citizens to signal parking violations to the competent autorities.
		\paragraph{}The system must allow the citizen to submit pictures of the violation, attaching data such as date, time and position. The user will have to specify the type of the violation when sending these data. 
		\paragraph{}When reciving such data, the system must store them, toghether with the plate of the car that performed the violation (elictated from the picture the citizen sent), the informations about the violation itself (in particular the type of violation), and the name of the street where the violation occourred (which can be retrieved by the positioning information the user sent).
		\paragraph{}In addition, the application must allow both autorities and citizens to analyze the stored data, for example highlighting streets or plates with most violations registered. Different levels of security can be offered.
		\paragraph{}Finally, the application must be enable authorities to automatically generate traffic tickets using its data for people commiting violations, if and only if it can be verified that the data concerning it has not been altered. In this case, SafeStreets could use this informations to build additional statistics.

		\paragraph{Goal list}
			\begin{enumerate}[label=\enum{G}]
				\item  \label{G_realTime}Allow citizens to notify parking violations and be acknowledged of the result as soon as possible
				\item \label{G_allData}Force citizens to provide all the needed data about violation, in particular infraction type, picture, date, time and position
				\item \label{G_helpAuth}Prevent the autorities to have to manually address parking tickets
				\item \label{G_discardAltered} Ensure no tickets can be emitted if the notification's data has been modified somehow
				\item \label{G_respectPermissions} Ensure no tickets can be emitted if the plate of the car that committed the infringment owns a permission for that infringiment
				\item \label{G_storeFine} Every notification not covered by \ref{G_discardAltered} or \ref{G_respectPermissions} will be eligible for ticket generation
				\item \label{G_statistics}Allow both citizens and authorities retrive informations about previous violations and released tickets, possibly in an aggregated form 
			\end{enumerate}

	\subsection{Scope} \textit{here we include an analysis of the world and of the shared phenomena}\\
	The world where the system must fit is an everday city, with focus on the traffic of moterized veichles.\\
	The events the system aims to influence are the parking of motorized veichles,  in particular the ones considered infractions.\\
	In the context of the system, when any user notices an illegal parking, he/she may notify the system and provide any needed informations to the competent authorities. In particular, the notification is composed by a picture of the infraction, a timestamp (date and time), the geographical location of the infraction and the type of infraction wich is to be notified. Some of these informations can be gathered automatically from the user's device. Notice that, for legal reasons, SafeStreets will just make the data available to the auth, and will \underline{not} generate tickets itself. \\
	In addiction, the user may interrogate the system to gather aggregated informations about the locations with more violation incidence, and the cars which committed more violations. 
	
		\begin{table}[H]
			\begin{center}
				\caption{Phenomena}
				\small
				\label{Phenomena}
				\begin{tabular}{|p{6cm}|p{5.5cm}|}
					\hline
					\textbf{World phenomena}&\textbf{Shared Phenomena}\\
					\hline
					A person parks its car somewhere&A person inserts the data about the infraction on its device\\
					A person finds out a traffic violation&An user accesses aggregated data about previous infractions\\
						&Data of a notification are filled automatically when possible\\
					\hline
					Auth generates a ticket for some violation&Auth access data about infractions and produces tickets\\
					&Auth accesses aggregated data on violations\\
					\hline
				\end{tabular}
			\end{center}
		\end{table}
		
	\subsection{Definitions, Acronyms,Abbreviations} \label{definitions}
		\paragraph{Person:}A person in the real world. Every Citizen is a person, generally an Authorithy is not
		\paragraph{User:}A person, an organization or a system which somehow uses SafeStreets
		\paragraph{Citizen (cit):} This term will be used to denote every \underline{user} not owning particular privileges or permissions. A citizen is only allowed to notify violations and see some aggregated data
		\paragraph{Authority (auth):} This term will denote every \underline{user} (phisical or digital) having privileged access to the stored data. An example of Authority is the Local Police.
		\paragraph{Notification:} 
			\begin{list}{-}{Represents a set of data submitted by any user composed by:}
				\item A picture of a parking infraction
				\item A timestamp of when the notification occourred, containing date and time (may be gathered automatically by the citizen's device)
				\item A geographical position of where the infraction occurred (may be gathered automatically by the citizen's device)
				\item The type of infraction notified
			\end{list}
		\paragraph{Car:}The word car will be used to issue every mothorized vehicle
		\paragraph{Plate:}Identifies a \underline{car}
		\paragraph{Permisison:}A document released by a verified authority, granting to a car the permission to park in a set of reserved parkings (ex: permission to park on parking reserved for disabled people). 
		
%	\subsection{Revision history}
%	\subsection{Reference documents}
%	\subsection{Document Structure}

\section{Overall descriprion}

	\subsection{Product perspective} Generally speaking safe street app provides a better collaborating between normal citizs and auths to solve some problem related to traffic of their city.In this case citizs can report car drivers violator to the auths by sendig a photo from the violator's car through the application then if the photo sender has right he/she can be sure that the violator received his/her fines. Overally auths and citizs by mining these data that comes from the app can have some information about the violations that already happend over their city.Bellow we provide some Diagrams to have better understanding and making our goals more explicit.
		\begin{table} [H]
		\begin{center}
		\caption{register as a citizen}
		\begin{tabular}{|c|p{8cm}|}
			\hline
			Actor&User\\
			\hline
			Entry condition&
				\begin{enumerate}
					\item The user has installed the Application
					\item The user has opened the Application
				\end{enumerate}\\
			\hline
			Events flow&
			\begin{enumerate}
			\item Click on “Sign up” button
			\item Fill all the mandatory fields and provide the necessary information
			\item Click on “Confirm” button
			\item The system saves the data
			
			\end{enumerate}\\
			\hline
			Exit condition& The user's Account has register successfully\\
			\hline
			Exeption&
			\begin{enumerate}
			\item The user is already signed up.In this case the system warns the user and suggests him/her to do the login.
			\item The username is already taken
			\item The e-mail is already registered
			\item The user didn’t fill all of the mandatory fields with valid data
			
			\end{enumerate}\\
			\hline
		\end{tabular}
				
		\end{center}


		\end{table} 
	
	\subsection{Product functions}
	The main functions of the system follows (lines in parenthesis are outside the system domain but are inserted for completeness):
		\paragraph{Violation notification}
			This is the core function of the system, exploited by the citizens.
			This function can be divided in 3 parts:
				\begin{itemize}
					\item \textbf{Data gathering}
					When the user spots the violation and with the help of its phone fills all the data (hopefully many will be gathered automatically) and sends them to the server
					\item \textbf{Elaboration}
					When the data are recived by our server the integrity of the data is checked; then a computer vision algorithm elaborates the plate. Finally, all the encoded data are stored to the database.
					\item \textbf{Acknowledgment}
					After the elaboration, the user recives a message confirming everything was ok, or asking more data if something went wrong during the elaboration.
				\end{itemize}
				
		\paragraph{Violation examination}
			This is the way the system could deeply influence the world. This function, exploited by recognized authorities, is the first step for automatically releasing tickets (which is not doable as pointed out by \ref{C_noAutoTickets}. In particular, the authority will:
			\begin{itemize}
				\item Access the server from its interface
				\item Retrieve data about violation
				\item Check the data
				\item (If data are correct, decide if a ticket can be created and in case create it)
			\end{itemize}
		\paragraph{Statistics}
			This funciton can be exploited by any user. Basically, it concerns the displaying of statistics about violations in a graphic, map-based \textbf{structure}. It is composed by the following steps:
			\begin{itemize}
				\item A data-mining service runs on our servers, mining the database
				\item Data are aggregated by location (streets)
				\item Aggregated data are divided in "classes of risk"
				\item The streets on the map will be marked differently based on the "class of risk"
			\end{itemize}
			
	
	\subsection{Assumptions, dependencies and constraints}
	
	\paragraph{Assumptions:}
		\begin{enumerate}[label=\enum{A}]
			\item \label{A_disjPlates} Different cars always have different plates
			\item \label{A_Single plate}Each car exactly has 1 plate
			\item \label{A_singleOwner}No car is owned by more than 1 person
			\item \label{A_accessiblePermissions}SafeStreets will have access to any permission released by the auths
		\end{enumerate}
	
	\paragraph{Constraints:}
		\begin{enumerate}[label=\enum{C}]
			\item The authorities will not be able to register automatically to the service. For authentication, they'll be verified and added by an administrator of the system
			\item \label{C_noAutoTickets}Due to italian law, the system won't be able to automatically produce tickets
		\end{enumerate}
	
\section{Specific Requirements} \textit{Here we include more details on all the aspects in Section 2 if they can be used for the development team}

		\subsubsection{Scenarios}
		
			\begin{enumerate}[label=\enum{S}]
				\item \label{S_The man, the street and the monstertruck}
				Mario is walking down the street when he comes to a cross. He would like to \textbf{cross the cross} staying on the pedestrian lines, but a monstertruck decided to park over there. So Mario needs to walk around the truck and through the street (cars are driving fast), but at least he can take a little revenge by taking out his mobile phone, opening the SafeStreets application and take a picture of the plate of the truck. The application automatically acquires data on time and position using the gps and sends the data to SafeStreets' server. In a second, Mario is notified that the violation has been saved and will be avilable for the police.
Mario now knows the crazy-minded driver will pay what he deserves! (like some fines)
				\item \label{S_Prevent is better than healing}Luigi is late for work. He cannot find any parking, and is thinking about parking on the bycicle line. He's about to do that, when he suddently remembers that nowaday anyone could signal his infractions with SafeStreets. So he decides to keep searching for a proper parking, and granny Maria can take her daily ride on her bycicle!
			\end{enumerate}

	\subsection{External Interface Requirements}
		These requirements come from the needing to communicate to the local police to submit notifications and gather ticket statistics, and to reduce the project cost by outsourcing.
		
		\subsubsection{User Interfaces}
			\begin{enumerate}[label=\enum{UI}]
				\item A graphical user interface should be provided to the auths to allow them to retrive data manually. It could be web-based or desktop-based.
				\item \label{UI_mobileApp}The citizen's user interface should be a mobile application to both be able to ensure mobility and security, being able to control the dataflow.
			\end{enumerate}
			
		\subsubsection{Software Interfaces}
			\begin{enumerate}[label=\enum{SW}]
				\item An api should be produced to allow auth's servers to access data programmatically
				\item An external api should be used to manage the map-based displaying of statistics
			\end{enumerate}
			
	\subsection{Functional Requirements} \textit{Definition of use case diagrams, usa cases and associated sequence/activity diagrams, and mapping on requirements}
			
		\subsubsection{Requirements}
		
			\begin{enumerate}[label=\enum{R}]
				\item \label{R_storeTickets}Requires the authorities to give SafeStreets access to the tickets they emitted using SafeStreets' data
				\item \label{R_autoPlate}Automatically extract the plate number of the car from the photo, ignoring cars in the background if present
				\item \label{R_unalteredData}Ensure no data is altered from the insertion to the eventual storage
				\item \label{R_dataGather}For each data to insert, if the  user's device has a sensor to collect thatkind of data, that sensor should be used instead of manual insertion (example: GPS). Otherwise it will be possible to insert it by hand.
				\item \label{R_notifyUser}The system should notify the user when his notification has been processed correctly, or ask for more datailed data (example: a more focused picture) if needed.
				\item \label{R_fullData}If a notification is missing any needed data, the client application will prevent the user from sending it
			\end{enumerate}
			
	\subsection{Performance requirements}
		\begin{enumerate}[label=\enum{P}]
			\item The notification should be sent to the server as soon as possible. It should be recived and elaborated as soon as internet and the server's speed allows to match almost-real-time speed
			\item The quality of the photo should be at most XYZ (to reduce overload on network and server) but at least PQR (to enable automatic recognition).
		\end{enumerate}
		
	\subsection{Design Constraints}
	
		\subsubsection{Hardware limitations} 
			\begin{enumerate}[label=\enum{SW}]
				\item The auth's hardware will require an internet connection to access the data.
				\item The cit's device will have to be a smartphone for the reasons explained in \ref{UI_mobileApp}
			\end{enumerate}					
		
		\subsubsection{Any other constraint} 
			\begin{enumerate}[label=\enum{OT}]
				\item The citizen's device should be checked to be trustable, and rooted devices should be blocked (as they could change the app behaviour and submit altered photos)
			\end{enumerate}		
		
	\subsection{Software system attributes}
	
		\subsubsection{Reliability}
			The only critical part of the system is the one concerning data mining, as people could exploit it to decide about it's daily routine. For this reason, it's recommended to make the result of the mining (old ones if needed) more available than the rest of the system.
			In addiction, the system must avoid to generate fake notifications because of system faults to prevent innocent people from getting an unfair ticket.
			
		\subsubsection{Availability}
			As the system does not concern life-critical events, we think an availability of 99\% of the time should be enought to ensure a good experience for both cits and auths.
			
		\subsubsection{Security}
			\begin{list}{-}{}
				\item Transmit data encrypted to prevent alteration in the network
				\item Only allow auths to access non-aggregated data
			\end{list}
			
		\subsubsection{Maintainability}
			Maintainability is not a crucial issue as no updates are planned for the system.
			
		\subsubsection{Portability}
			Portability is a crucial aspect of the system, at least on the citizen's side: it is needed to allow them to submit a notification as they spot a violation. For this reason, the cit's client should be avaiable on as most mobile devices as possible.
			
	\subsection{Traceability matrix}
		\begin{table}[H]
			\begin{center}
				\caption{Traceability matrix}
				\label{Trace matrix}
				\begin{tabular}{S|S|S}
					\textbf{Goal ID} & \textbf{Req ID} & \textbf{Usecase ID}\\
					\hline
					\ref{G_realTime} & \ref{R_autoPlate} & \ref{S_The man, the street and the monstertruck}\\
					&\ref{R_dataGather}&\\
					&\ref{R_notifyUser}&\\
					\hline
					\ref{G_allData} & \ref{R_fullData} & \\
						& \ref{R_dataGather} & \\
					\hline
					\ref{G_helpAuth}&&\\
					\hline
					\ref{G_discardAltered}&&\\
					\hline
					\ref{G_respectPermissions}&&\\
					\hline
					\ref{G_storeFine}&&\\
					\hline
					\ref{G_statistics}&&\\
				\end{tabular}
			\end{center}
		\end{table}
		
\section{Formal analysis using alloy} \textit{This section should include a brief presentation of the main objectives driving the formal modeling activity, as well as a description of the model itself, what can be proved with it, and why what is proved is important given the problem at hand. To show the soundness and correctness of the model, this section can show some worlds obtained by running it, and/or the results of the checks performed on meaningful assertions}
	\paragraph{}The signatures are omitted in the document as they reflect the entities 				desctibes in section \ref{definitions}, plus some "enumerations". The goals we were able to define in Alloy are \ref{G_discardAltered},\ref{G_respectPermissions} and \ref{G_storeFine}.
	There was no need to check \ref{G_statistics} and \ref{G_allData} as they can be satisfied 	by an equal requirement
	\paragraph{}The assumptions we were able to define are \ref{A_disjPlates}, \ref{A_Single plate}, \ref{A_singleOwner}, \ref{A_accessiblePermissions}. Please note not all of them has been expressed by facts as some was already expressed by multiplicity in the signatures.
	
\section{Effort spent} \textit{In this section you will include information about the number of hours each group member has worked for this document}

	\paragraph{Matteo Secco} 
		\begin{list}{-}{}
			\item October 15: created the skeleton. 1h
			\item October 16: Introduction and Scope. 30m
			\item October 16: Definitions. 15m.
			\item October 23: Scenarios and goals. toghether. 1h
			\item October 24: Update goals, assumptions, alloy skeleton. 2h
			\item October 24: Teamwork. 2h
			\item October 27: Traceabiity matrix and related. 1.30h
			\item October 28: modify some Tasks toghether. 1h
			\item October 30: Design fixes, product functions. 1.30h
			\item October 30: Alloy. 1h
		\end{list}
		
	\paragraph{Rahbari}
		\begin{list}{-}{}
			\item October 23: Scenarios and goals. toghether. 1h
			\item October 24: Teamwork. 2h
			\item October 27: Use case diagram,product prospective 2h
			\item October 28: Modify some Tasks toghether. 1h
			\item Obtober 20: Something. 1h
		\end{list}
\section{References}
\end{document}
